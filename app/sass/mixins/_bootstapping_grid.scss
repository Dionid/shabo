@mixin make-units($preffix: '') {
  @include loop-units($preffix, width);
  @include loop-units($preffix, pull);
  @include loop-units($preffix, push);
  @include loop-units($preffix, offset);
}

@mixin loop-units($preffix, $type) {
  @each $unit in $units {
    @include calc-unit($unit, $type, $preffix);
  }

  @each $unit, $name in $units-names {
    @include calc-unit($unit, $type, $preffix, $name);
  }
}

%float-left {
  float: left;
}

// Preffix should be like '-mobile'
@mixin calc-unit($unit, $type, $preffix: '', $name: $unit) {
  @if ($type == width) and ($unit > 0) {
    .unit#{$preffix}-#{$name} {
      @extend %float-left;
      width: get-unit-width($unit);
    }
  }

  @if ($type == push) {
    .unit#{$preffix}-push-#{$name} {
      @extend %float-left;
      left: get-unit-width($unit);
    }
  }

  @if ($type == pull) {
    .unit#{$preffix}-pull-#{$name} {
      @extend %float-left;
      right: get-unit-width($unit);
    }
  }

  @if ($type == offset) {
    .unit#{$preffix}-offset-#{$name} {
      @extend %float-left;
      margin-left: get-unit-width($unit);
    }
  }
}
